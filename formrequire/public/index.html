<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title><%= htmlWebpackPlugin.options.title %></title>
  </head>
  <body>
    <noscript>
      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app">
      <template>
        <div>
          <form @submit.prevent="handleSubmit">
            <div v-for="(link, index) in links" :key="index">
              <label :for="'link-' + index">Link {{ index + 1 }}:</label>
              <input :id="'link-' + index" type="text" v-model="links[index]">
            </div>
            <button type="submit">Submit</button>
          </form>
          <div v-if="results">
            <p v-for="(result, index) in results" :key="index">Result {{ index + 1 }}:</p>
            <pre>{{ results }}</pre>
          </div>
        </div>
      </template>      
    </div>

    <script>
      import axios from 'axios';
      
      export default {
        data() {
          return {
            links: ['', '', ''],
            results: null
          }
        },
        methods: {
          async handleSubmit() {
            try {
              const response = await axios.post('http://localhost:3000/processLinks', { links: this.links });
              this.results = response.data;
            } catch (error) {
              console.error(error);
            }
          }
        }
      }
      </script>
      
    <!-- built files will be auto injected -->
  </body>
</html>
